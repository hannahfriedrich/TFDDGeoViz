
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Transboundary Freshwater Dispute Database</title>
    <!doctype html>
    <html lang="en" xmlns:display="http://www.w3.org/1999/xhtml">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>TFDD</title>


        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css">

        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
        <!--<script src="https://d3js.org/d3.v5.min.js"></script>-->
        <link rel="stylesheet" href="https://dc-js.github.io/dc.js/css/dc.css">
        <link href="https://fonts.googleapis.com/css?family=Artifika|Cinzel+Decorative" rel="stylesheet">
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.12/css/all.css">
        <!--<script src="https://d3js.org/d3.v4.min.js"></script>-->
        <!--<script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-ajax/2.1.0/leaflet.ajax.js"></script>-->
        <script src="https://dc-js.github.io/dc.js/js/d3.js"></script>
        <script src="https://dc-js.github.io/dc.js/js/crossfilter.js"></script>
        <script src="https://dc-js.github.io/dc.js/js/dc.js"></script>
        <script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
        <link rel="shortcut icon" href="assets/img/tfdd_logo.png" type="image/x-icon">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-ajax/2.1.0/leaflet.ajax.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/proj4js/2.4.4/proj4.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/proj4leaflet/1.0.2/proj4leaflet.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
        <!-- mapbox stylesheet -->
        <link href="https://api.tiles.mapbox.com/mapbox-gl-js/v0.40.1/mapbox-gl.css" rel='stylesheet'/>
        <!-- mapbox gl js -->
        <script src="https://api.tiles.mapbox.com/mapbox-gl-js/v0.40.1/mapbox-gl.js"></script>
        <!-- leaflet mapbox js -->
        <script src="https://rawgit.com/mapbox/mapbox-gl-leaflet/master/leaflet-mapbox-gl.js"></script>
        <script type="text/javascript" src="assets/intro.js-2.9.3/intro.js"></script>
        <link href="../assets/css/bootstrap.min.css" rel="stylesheet">
        <link href="../assets/css/demo.css" rel="stylesheet">

        <!-- Add IntroJs styles -->
        <link href="assets/intro.js-2.9.3/introjs.css" rel="stylesheet">

        <link href="../assets/css/bootstrap-responsive.min.css" rel="stylesheet">

        <style>

            html, body {
                width: 100%;
                height: 100%;
                margin: 0;
                padding: 0;
                background-color: #3e3e3e;
                font-family: 'Artifika', serif;
                font-size: 14px;
                position: relative

            }

            .intro {
                height: 100%;
                width: 100%;
                margin: auto;
                background: url(https://images.pexels.com/photos/66090/pexels-photo-66090.jpeg?cs=srgb&dl=adventure-bushcraft-camping-66090.jpg&fm=jpg) no-repeat 50% 50%;
                display: table;
                top: 0;
                background-size: cover;
            }

            .intro .inner {
                display: table-cell;
                vertical-align: middle;
                width: 100%;
                max-width: none;

            }

            .content {
                max-width: 500px;
                margin: 0 auto;
                text-align: center;

            }

            .content h1 {
                font-family: 'Cinzel Decorative', cursive;
                color: #FFFFFF;
                text-shadow: 6px 8px 300px #000000;
                font-size: 500%;
            }

            .btn {
                color: #919ba3;
                border-radius: 9px;
                font-family: 'Rosario', sans-serif;
                font-size: 100%;
                padding: 10px 20px;
                fill: #FFFFFF;
                border: solid #badcf9 3px;
                text-decoration: none;
                text-transform: uppercase;

            }

            .btn:hover {
                color: #badcf9;
                border: solid #fff 3px;
            }

            .dc-chart .pie-slice.external {
                fill: #FFFFFF;
            }


            .dc-data-count {
                position: relative;
                margin: 0 auto;
            }

            .map {
                width: 70%;
                height: 66%;
                left: 0px;
                top: 0px;
                position: absolute;

            }

            .side-menu {
                width: 30%;

                right: 0px;
                position: absolute;
                max-height: 100%;
            }
            #myTable {
                width: fit-content;
            }

            .icon {
                font-size: 16px;
                color: #FFFFFF;
                position: absolute;
                font-family: 'Cinzel Decorative', cursive;
            }

            .scrollbar-black::-webkit-scrollbar-track {
                -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.1);
                background-color: #F5F5F5;
                border-radius: 10px;
            }

            .scrollbar {

                float: left;
                height: 25%;
                width: 65px;
                background: #fff;
                overflow-y: scroll;
                margin-bottom: 25px;
            }

            .force-overflow {
                min-height: 350px;
            }

            .scrollbar-primary::-webkit-scrollbar {
                width: 12px;
                background-color: #F5F5F5;
            }

            .scrollbar-primary::-webkit-scrollbar-thumb {
                border-radius: 10px;
                -webkit-box-shadow: inset 0 0 6px rgba(0, 0, 0, 0.1);
                background-color: #180ef4;
            }

            .clear {
                font-size: 14px;
                left: 0px;
                top:0px;
            }

            /*table, thead, tbody, th, td, tr {*/
                /*display: inline-block;*/
            /*}*/

            /* Hide table headers (but not display: none;, for accessibility) */
            thead tr {
                position: absolute;
                top: -9999px;
                left: -9999px;
            }

            tr {
                border: 1px solid #070707;
                width: 100%;
            }

            /*td {*/
                /*!* Behave  like a "row" *!*/
                /*border: none;*/
                /*border-bottom: 1px solid #eee;*/
                /*position: relative;*/
                /*padding-left: 50%;*/
            /*}*/

            td:before {
                /* Now like a table header */
                position: fixed;
                display: inline-block;
                /* Top/left values mimic padding */
                top: 6px;
                left: 6px;
                /*width: 45%;*/
                padding-right: 15px;
                padding-left: 15px;
                white-space: nowrap;

            }

            td {
                width: 50px;
                border: black;
                text-anchor: middle;
            }
            /*#myInput {*/
                /*position: absolute;*/
                /*width: 70%;*/
                /*height: 30%;*/
            /*}*/

            .legend {
                line-height: 16px;
                width: 140px;
                color: #333333;
                padding: 6px 8px;
                background: white;
                background: rgba(255,255,255,0.5);
                box-shadow: 0 0 15px rgba(0,0,0,0.2);
                border-radius: 5px;
            }

            .legend i {
                width: 16px;
                height: 16px;
                float: left;
                margin-right: 8px;
                opacity: 0.9;
            }

            .legend img {
                width: 16px;
                height: 16px;
                margin-right: 3px;
                float: left;
            }

            .legend p {
                font-size: 12px;
                line-height: 16px;
                margin: 0;
            }


        </style>
    </head>
<body>
<nav class="navbar navbar-inverse" style="z-index: 1000; font-size: 16px">
    <div class="container-fluid" data-step="1" data-intro="Welcome to the TFDD! This Navigation bar is where you can select different basemaps and sort through different data layers.">
        <div class="navbar-header" >
            <a class="navbar-brand" style="padding-top: 7px" href="http://transboundarywaters.science.oregonstate.edu/" target="_blank"><img src="assets/img/tfdd_logo.png" style="width: 50px;"></img></a>
        </div>
        <ul class="nav navbar-nav" >
            <li class="active"><a href="index.html"data-step="2" data-intro="The HOME button till take you back to the previous page.">Home</a></li>

            <li><a data-step="2" data-intro="The EVENTS button will display how each of the countries have interacted with each other, either good or bad." href="events.html">Events</a></li>
            <li><a data-step="3" data-intro="The TREATIES button will show which countries have a treaties with one another." href="treaties.html">Treaties</a></li>

            <li class="dropdown"><a data-step="4" data-intro="In this dropdown menu you can select to display either the Basins, Basin/Country Units (BCU) or by Country."class="dropdown-toggle" data-toggle="dropdown" href="#">Unit Layer <span
                    class="caret"></span></a>
                <ul class="dropdown-menu">
                    <li><a href="javascript:cover(base)">Basins</a></li>
                    <li><a href="javascript:cover(bcu)">Basin/Country Unit</a></li>
                    <li><a href="javascript:cover(world)">Country</a></li>
                </ul>
            </li>
            <li class="dropdown"><a data-step="5" data-intro="From this dropdown menu you can change the layers on the map. The first four layers: population density, Land Cover, Irrigation and Rainfall
            are all basemap layers. The rest of the layers will change what data is displayed within the Basin Layer." class="dropdown-toggle" data-toggle="dropdown" href="#">Topic Layer <span
                    class="caret"></span></a>
                <ul class="dropdown-menu">
                    <li><a href="javascript:popTile() ">Population Density</a></li>
                    <li><a href="#">Land Cover</a></li>
                    <li><a href="javascript:giam() ">Irrigation</a></li>
                    <li><a href="javascript:gmrca()">Rainfall</a></li>
                    <li><a href="javascript:damBasin()">Existing Dams</a></li>
                    <li><a href="javascript:runoffBasin()">Runoff</a></li>
                    <li><a href="javascript:consumBasin()">Consumption</a></li>
                    <li><a href="javascript:withBasin()">Withdrawal</a></li>
                    <li><a href="javascript:hydropolBasin()">Hydro Political Tension</a></li>
                    <li><a href="javascript:InstitVulnBasin()">Institutional Vulnerability</a></li>
                    <li><a href="javascript:GDPBasin()">GDP</a></li>
                </ul>

            </li>


        </ul>
        <ul class="nav navbar-nav navbar-right" data-step="6" data-intro="From these items you can download the data, share on facebook, go to the Github repository for this page or view the about page for more information about the project.">
            <li><a target="_blank" href="http://transboundarywaters.science.oregonstate.edu/content/transboundary-freshwater-dispute-database"><i style="color: #afb6bc;" class="fas fa-download"></i></a></li>
            <li><a href="https://www.facebook.com/sharer/sharer.php?u=example.org" target="_blank">
                <i class="fa fa-address-book" style="color: #afb6bc;" aria-hidden="true"></i>
            </a></li>
            <li><a style='color: #FFFFFF; font-family:Rosario;'
                   href="https://github.com/hannahfriedrich/TFDDGeoViz"><i class="fab fa-github " style="color: #afb6bc;"></i></a></li>
            <li><a data-toggle="modal" data-target="#aboutModal"  ; style='color: #afb6bc;'>
                <i class="fa fa-info-circle" style="color: #afb6bc;"></i></a></li>
            <li><a class="animated tada" href="javascript:void(0);" onclick="javascript:introJs().start();" style='color: #afb6bc; animation-duration: 2s; animation-delay:2s; animation-iteration-count: 3'>
                <span style=" font-family: Rosario"></span> Tutorial</a></li>
        </ul>
    </div>


</nav>
<div class="modal fade" id="aboutModal" role="dialog">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">

                <h4 class="modal-title">About</h4>
            </div>
            <div class="modal-body">
                <p>The Transboundary Freshwater Dispute Database (TFDD) is an ongoing collection of transboundary freshwater
                    basins and basin country units and associated treaties, events, and river basin organizations associated with such basins,
                    BCUs, or countries. For more information on the TFDD and to download the database, visit <a href="http://transboundarywaters.science.oregonstate.edu/content/transboundary-freshwater-dispute-database"> here.</a></p>
                <br>
                <p>This geo-visualization was created by Hannah Friedrich, Giovanni Svevo, and Alex Walters for a joint project
                    for Aaron Wolf's International Water Resources Management and Bo Zhao's Geovisual Analytics courses at Oregon State University.
                    The goal of this geo-visualization is to take the existing TFDD database to create a geo-visualization to allow for a dynamic user
                    experience in exploring the TFDD database and various global socio-economic, geographic, and water related variables.</p>
                </br>

                <p> <strong>Background and Sources for geospatial data</strong></p>
                <br>
                <p>Population Density from the GPWv4: <a href="http://sedac.ciesin.columbia.edu/data/collection/gpw-v4">Gridded Population of the World Version 4 </a></p>

                <p>Land Cover: MODIS Land Cover using the <a href="https://explorer.earthengine.google.com/#detail/MODIS%2F051%2FMCD12Q1"> International Geosphere-Biosphere Programme (IGBP)</a> global vegetation classification scheme</p>

                <p>Irrigation: Percent area irrigated/basin from the <a href="http://waterdata.iwmi.org/Applications/GIAM2000/giam.php">Global Irrigated Area Mapping (GIAM)</a>, which was last updated in 2000.</p>


                <p>Rainfall sourced from <a href="http://waterdata.iwmi.org/Applications/GIAM2000/giam.php"> here</a></p>

                <p>Dams: Count of existing dams in the basin, BCU</p>

                <p>Runoff: <a href="http://www.bafg.de/GRDC/EN/01_GRDC/13_dtbse/database_node.html">Global Runnoff Database (GRDC)</a>. Last updated 2017.</p>


                <p>Consumption:  </p>

                <p>   Withdrawal:</p>

                <p>Hydro-Political Tension: Risk of hydro-political tension based on the basic country unit (BCU) institutional vulnerability and infrastructure hazards. 1 being lowest risk, and 5 being the highest risk.</p>

                <p>Institutional Vulnerability: Calculated based on the existence of five measures.</p>

                <br>Gross Domestic Product sourced from <a href="https://data.worldbank.org/indicator/NY.GDP.PCAP.CD?view=map"> here.</a>
                </br>

                <h3>Contact</h3>

                <p> Administrators</p>
                <p>Aaron T. Wolf, Ph.D.
                    Program Co-Director
                    Program in Water Conflict Management and Transformation
                    Oregon State University
                    College of Earth, Ocean, and Atmospheric Sciences
                    104 CEOAS Admin Building
                    Corvallis, OR 97331
                    E-mail: wolfa[a]geo.oregonstate.edu
                    Phone: (541) 737-2722
                    Fax: (541) 737-1200</p>

                <p>
                    Lynette de Silva
                    Program Co-Director
                    Program in Water Conflict Management and Transformation
                    Oregon State University
                    College of Earth, Ocean, and Atmospheric Sciences
                    104 CEOAS Admin Building
                    Corvallis, OR 97331
                    E-mail: desilval[a]geo.oregonstate.edu
                    Phone: (541) 737-7013
                    Fax: (541) 737-1200
                </p>
                <p>
                    Melissa McCracken
                    Database Manager
                    Transboundary Freshwater Dispute Database
                    Oregon State University
                    College of Earth, Ocean, and Atmospheric Sciences
                    104 CEOAS Admin Building
                    Corvallis, OR 97331
                    E-mail: mccrackm[a]oregonstate.edu
                </p>

                </br><br>
                <p>Website creators</p>
                <p> The project is created by Hannah Friedrich, Govanni Svevo and Alex Walters</p>

                <P>Thanks to Bo Zhao for his insight and assistance, and to Aaron Wolf and Melissa McCracken for familiarizing us with the TFDD database.</p>
                </br>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>


<!--<div class="modal fade" id="tutorialModal" role="dialog">-->
    <!--<div class="modal-dialog modal-lg">-->
        <!--<div class="modal-content" style="font-family: Rosario">-->
            <!--<div class="modal-header">-->

                <!--<h4 class="modal-title">Tutorial</h4>-->
            <!--</div>-->
            <!--<div class="modal-body">this is where the training will take place-->
                <!--<br><br>-->

            <!--</div>-->
            <!--<div class="modal-footer">-->
                <!--<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>-->
            <!--</div>-->
        <!--</div>-->
    <!--</div>-->
<!--</div>-->
<!--<a id="backbutton"><i class="fa fa-arrow-left"style="z-index: 1010;top: 10%;left: 20px; position:static; height:50px;width:50px"></i></a>-->
<div id="map" class="map" data-step="7" data-intro="On the map section you will view each of the transboundary basins. Clicking on one will highlight that basin in the charts to the right.
 Also the table at the bottom of the page will reflect the sub Basin/Country Units that are within the selected basin. Hovering over each of the basins will display the more pertinent information
based on the selected topic layer."></div>

<a id="backbutton" href="javascript: cover(base)"><i class="fa fa-arrow-circle-left fa-2x"  style="z-index:1000;color: #2f3942; left: 5px; top:75px;position: absolute;"></i></a>
<input style="position: absolute; z-index:1000; bottom:30%; width: 70%" class="form-control" id="myInput" type="text" placeholder="Search Database...">

<div id="data-table" class="container scrollbar "
     style="width: 70%; height: 30%; margin: 0px; padding: 0px; position: absolute;  bottom: 0px; left: 0px; font-size: 12px">
        <div class="row">
        <div class="col-sm-4"><strong>Basin Name</strong></div>
    </div>
    <div class="row table table-bordered table-condensed table-striped" style="width: 100%;margin: 0px; padding: 0px;">
        <div class="col-sm-1"><strong>BASIN CODE</strong></div>
        <div class="col-md-2"><strong>2012 Population Density (per km<sup>2</sup>)</strong></div>
        <div class="col-md-2"><strong>2015 Population Density (per km<sup>2</sup>)</strong></div>
        <div class="col-md-2"><strong>2020 Population Density (per km<sup>2</sup> projected)</strong></div>
        <div class="col-md-1"><strong>Existing Dams </strong></div>
        <div class="col-md-1"><strong>Planned/ Proposed Dams </strong></div>
        <div class="col-sm-3"><strong>Country Name</strong></div>

    </div>
            <table class="table table-bordered table-striped" style="display:inline-table; width: 100%" id="myTable"> </table>

</div>



<div class="container side-menu" data-step="6" data-intro="In this side panel you will find two interactive charts showing the distrobution of population and area by Basin. Theses charts will
 filter the map when clicked. The other features on the panel displays how many basins are viewed from the filters, which basin is selected and how many dams are in the selected basin.">
    <div id="1">
        <div class="row">
            <div class="col-sm-12 dc-data-count" style="color: #afb6bc; padding-bottom: 20px;">
                <span class="filter-count"></span> selected out of <span class="total-count"></span> records |
                <a href="javascript:dc.filterAll();dcrederAll();">Reset All</a>
            </div>

            <div class="row"></div>
            <div class="row"></div>


            <div class="col-sm-4" style="color: #afb6bc; font-size: 18px;">Basin Selected: <br> <span class= "clear" id="basinName"> Please Select a Basin</span>
            </div>

            <div class="col-sm-8" id="popCount" style="text-align: center;">
                <strong style="color: #afb6bc"> Population Density (per km<sup>2</sup>) per Basin</strong>
                <span class="reset" style="display: none;">Selected: <span class="filter"></span></span>
                <a class="reset" href="javascript:popdimChart.filterAll();dc.redrawAll();"
                   style="display:none;">reset</a>
                <div class="clearfix"></div>
            </div>
            <br>
        </div>
        <div class="row">
            <div class="col-sm-4" style="color: #afb6bc; padding-top: 20px; padding-bottom:20px">Number of Dams in the Basin: <span class= "clear" id="damCounts"> </span></div>

            <!--<div class="col-sm-4" style="color: #afb6bc">Basin Country Unit Selected:<span class= "clear"id="bcuName"> Please Select a Basin</span>-->
            <!--</div>-->
            <div class="col-sm-8" id="areaChart" style="text-align: center;">
                <strong style="color: #afb6bc"> Land Area per Basin (km<sup>2</sup>)</strong>
                <span class="reset" style="display: none;">Selected: <span class="filter"></span></span>
                <a class="reset" href="javascript:areadimChart.filterAll();dc.redrawAll();"
                   style="display:none;">reset</a>
                <div class="clearfix"></div>
            </div>

        </div>

    </div>


    <div id="2">
        <div class="row">
            <div class="col-sm-12 dc-data-count" style="color: #afb6bc;padding-bottom: 20px;">
                <span class="filter-count"></span> selected out of <span class="total-count"></span> records |
                <a href="javascript:dc.filterAll();dcrederAll();">Reset All</a>
            </div>
            <br>

            <div class="col-sm-4" style="color: #afb6bc">Basin Selected: <br> <span class= "clear" id="basinName2"style="font-size: 14px"> Please Select a Basin</span>
            </div>
            <br>
            <div class="col-sm-8" id="popCount2" style="text-align: center;">
                <strong style="color: #afb6bc"> Population Density per Basin</strong>
                <span class="reset" style="display: none;">Selected: <span class="filter"></span></span>
                <a class="reset" href="javascript:popdimChart2.filterAll();dc.redrawAll();"
                   style="display:none;">reset</a>
                <div class="clearfix"></div>
            </div>
            <br>
        </div>
        <br>
        <div class="row">
            <div class="col-sm-4" style="color: #afb6bc; padding-top: 20px; padding-bottom:20px">Number of Dams in the Basin: <span class= "clear" id="damCount"> </span></div>

            <div class="col-sm-8" id="areaChart2" style="text-align: center;">
                <strong style="color: #afb6bc"> Land Area per Basin (km<sup>2</sup>)</strong>
                <span class="reset" style="display: none;">Selected: <span class="filter"></span></span>
                <a class="reset" href="javascript:areadimChart2.filterAll();dc.redrawAll();"
                   style="display:none;">reset</a>
                <div class="clearfix"></div>
            </div>

        </div>
        <!--<div class="col-sm-12" style="color: #afb6bc; padding-left: 0px;">Number of Dams in the Basin: <span class= "clear" id="damCount"> </span></div>-->
        <!--</div>-->
    </div>
    <div class="row">

    </div>
</div>

</div>
<script src="script.js"></script>

</body>
</html>